<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>BookFlow API Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            scroll-behavior: smooth;
        }

        pre {
            background: #0d1117;
            color: #e6edf3;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
        }

        code {
            color: #e6edf3;
        }

        .badge-method {
            font-size: 0.75rem;
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">üìö BookFlow API</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="nav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#features">Features</a></li>
                    <li class="nav-item"><a class="nav-link" href="#setup">Setup</a></li>
                    <li class="nav-item"><a class="nav-link" href="#api">API Docs</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://bookflow-pwqb.onrender.com/" target="_blank">Live API</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <div class="container-fluid">
        <div class="row" style="margin-top: 80px;">

            <!-- SIDEBAR -->
            <aside class="col-md-3 col-lg-2 d-none d-md-block bg-light border-end vh-100 position-fixed">
                <div class="p-3">
                    <h6 class="text-uppercase text-muted">Endpoints</h6>
                    <ul class="nav flex-column gap-2">
                        <li><a class="nav-link" href="#authors">GET /authors</a></li>
                        <li><a class="nav-link" href="#author">GET /authors/{id}</a></li>
                        <li><a class="nav-link" href="#sales">GET /authors/{id}/sales</a></li>
                        <li><a class="nav-link" href="#withdraw">POST /withdrawals</a></li>
                        <li><a class="nav-link" href="#withdrawals">GET /authors/{id}/withdrawals</a></li>
                    </ul>
                </div>
            </aside>

            <!-- CONTENT -->
            <main class="col-md-9 offset-md-3 col-lg-10 offset-lg-2 px-4">

                <!-- INTRO -->
                <section>
                    <h1 class="fw-bold">üìö BookFlow ‚Äî Author Royalty Management API</h1>
                    <p class="lead">
                        A backend REST API built with <strong>Flask + SQLite</strong> for managing
                        authors, books, royalties, sales, wallet balances, and withdrawals.
                    </p>

                    <p class="text-muted">
                        Base URL:
                        <i>https://bookflow-pwqb.onrender.com</i>
                    </p>
                </section>

                <hr>

                <!-- FEATURES -->
                <section id="features">
                    <h2>üöÄ Features</h2>
                    <ul class="row row-cols-1 row-cols-md-2">
                        <li>Author management</li>
                        <li>Book royalty tracking</li>
                        <li>Sales recording</li>
                        <li>Automatic earnings calculation</li>
                        <li>Wallet balance system</li>
                        <li>Withdrawal requests</li>
                        <li>Withdrawal history</li>
                        <li>Business rule validations</li>
                        <li>CORS enabled API</li>
                        <li>Production-ready deployment</li>
                    </ul>
                </section>

                <hr>

                <!-- SETUP -->
                <section id="setup">
                    <h2>‚öô Setup Commands</h2>

                    <h6>Clone Repository</h6>
                    <pre><code>git clone https://github.com/AjayKumar095/BookFlow.git
cd BookFlow</code></pre>

                    <h6>Create Virtual Environment</h6>
                    <pre><code>python -m venv .venv</code></pre>

                    <h6>Activate Environment</h6>
                    <pre><code>.venv\Scripts\activate
source .venv/bin/activate</code></pre>

                    <h6>Install Dependencies</h6>
                    <pre><code>pip install -r requirements.txt</code></pre>
                </section>

                <hr>

                <!-- API DOCS -->
                <section id="api">
                    <h2>üåç API Documentation</h2>

                    <!-- AUTHORS -->
                    <div id="authors">
                        <h4>
                            <span class="badge bg-success badge-method">GET</span>
                            /authors
                        </h4>
                        <p>Retrieve all authors with earnings and wallet balance.</p>
                        <pre><code>[
  {
    "id": 1,
    "name": "Priya Sharma",
    "total_earnings": 3825,
    "current_balance": 2825
  }
]</code></pre>
                    </div>

                    <hr>

                    <!-- AUTHOR DETAILS -->
                    <div id="author">
                        <h4>
                            <span class="badge bg-success">GET</span>
                            /authors/{id}
                        </h4>
                        <pre><code>{
  "id": 3,
  "name": "Anita Desai",
  "email": "anita@email.com",
  "total_earnings": 400,
  "current_balance": 400,
  "total_books": 1,
  "books": [
    {
      "title": "Garden of Words",
      "total_sold": 10,
      "total_royalty": 400
    }
  ]
}</code></pre>
                    </div>

                    <hr>

                    <!-- SALES -->
                    <div id="sales">
                        <h4>
                            <span class="badge bg-success">GET</span>
                            /authors/{id}/sales
                        </h4>
                        <pre><code>[
  {
    "book_title": "The Silent River",
    "quantity": 40,
    "royalty_earned": 1800,
    "sale_date": "2025-01-12"
  }
]</code></pre>
                    </div>

                    <hr>

                    <!-- WITHDRAW -->
                    <div id="withdraw">
                        <h4>
                            <span class="badge bg-warning text-dark">POST</span>
                            /withdrawals
                        </h4>
                        <pre><code>{
  "author_id": 1,
  "amount": 1000
}</code></pre>
                    </div>

                    <hr>

                    <!-- WITHDRAWALS -->
                    <div id="withdrawals">
                        <h4>
                            <span class="badge bg-success">GET</span>
                            /authors/{id}/withdrawals
                        </h4>
                        <pre><code>[
  {
    "amount": 1000,
    "status": "pending",
    "created_at": "2026-02-07 13:04:05"
  }
]</code></pre>
                    </div>
                </section>

                <footer class="my-5 text-center text-muted">
                    ¬© 2026 BookFlow ‚Ä¢ Built by Ajay Kumar
                </footer>

            </main>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>